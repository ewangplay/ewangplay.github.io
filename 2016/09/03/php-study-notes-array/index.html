<!DOCTYPE html>


  <html class="light page-post">


<head>
  <meta charset="utf-8">
  
  <title>PHP学习笔记——数组 | ewangplay&#39;s Blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="学习笔记,php," />
  

  <meta name="description" content="PHP中的数组支持以数字为索引的常规数组和以字符串为索引的关联数组，在其它编程语言中，通常会提供两种数据类型——Array和Map（或者叫Hash)，分开来表示，而在PHP中相当于把这两种数据类型合并成了一个——统称为数组（Array）。 常规数组创建数组常规的创建一个数组的方法如下： 1$products = array( ‘Tires’, ‘Oil’, ‘Spark Plugs’ ); 这就创">
<meta name="keywords" content="学习笔记,php">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP学习笔记——数组">
<meta property="og:url" content="http://ewangplay.github.io/2016/09/03/php-study-notes-array/index.html">
<meta property="og:site_name" content="ewangplay's Blog">
<meta property="og:description" content="PHP中的数组支持以数字为索引的常规数组和以字符串为索引的关联数组，在其它编程语言中，通常会提供两种数据类型——Array和Map（或者叫Hash)，分开来表示，而在PHP中相当于把这两种数据类型合并成了一个——统称为数组（Array）。 常规数组创建数组常规的创建一个数组的方法如下： 1$products = array( ‘Tires’, ‘Oil’, ‘Spark Plugs’ ); 这就创">
<meta property="og:updated_time" content="2017-04-07T15:35:50.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PHP学习笔记——数组">
<meta name="twitter:description" content="PHP中的数组支持以数字为索引的常规数组和以字符串为索引的关联数组，在其它编程语言中，通常会提供两种数据类型——Array和Map（或者叫Hash)，分开来表示，而在PHP中相当于把这两种数据类型合并成了一个——统称为数组（Array）。 常规数组创建数组常规的创建一个数组的方法如下： 1$products = array( ‘Tires’, ‘Oil’, ‘Spark Plugs’ ); 这就创">

  

  
    <link rel="icon" href="/images/favicon.ico">
  

  <link href="/css/styles.css?v=c114cbe6" rel="stylesheet">


  
    <link rel="stylesheet" href="/css/personal-style.css">
  

  

  

  


  
    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  

  
    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">
  
</head>

<body>


  
    <span id="toolbox-mobile" class="toolbox-mobile">新世界</span>
  

  <div class="post-header CENTER">
   
  <div class="toolbox">
    <a class="toolbox-entry" href="/">
      <span class="toolbox-entry-text">新世界</span>
      <i class="icon-angle-down"></i>
      <i class="icon-home"></i>
    </a>
    <ul class="list-toolbox">
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/archives/"
            rel="noopener noreferrer"
            target="_self"
            >
            博客
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/category/"
            rel="noopener noreferrer"
            target="_self"
            >
            分类
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/tag/"
            rel="noopener noreferrer"
            target="_self"
            >
            标签
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/about/"
            rel="noopener noreferrer"
            target="_self"
            >
            关于
          </a>
        </li>
      
        <li class="item-toolbox">
          <a
            class="CIRCLE"
            href="/search/"
            rel="noopener noreferrer"
            target="_self"
            >
            搜索
          </a>
        </li>
      
    </ul>
  </div>


</div>


  <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#常规数组"><span class="toc-text">常规数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建数组"><span class="toc-text">创建数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#访问数组元素"><span class="toc-text">访问数组元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历数组元素"><span class="toc-text">遍历数组元素</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关联数组"><span class="toc-text">关联数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建数组-1"><span class="toc-text">创建数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#访问数组元素-1"><span class="toc-text">访问数组元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#遍历数组元素-1"><span class="toc-text">遍历数组元素</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#foreach"><span class="toc-text">foreach</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#each"><span class="toc-text">each</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#list"><span class="toc-text">list</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多维数组"><span class="toc-text">多维数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数组排序"><span class="toc-text">数组排序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#sort-rsort"><span class="toc-text">sort/rsort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#asort-arsort"><span class="toc-text">asort/arsort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ksort-krsort"><span class="toc-text">ksort/krsort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#usort-uasort-uksort"><span class="toc-text">usort/uasort/uksort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shuffle"><span class="toc-text">shuffle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#array-reverse"><span class="toc-text">array_reverse</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#从文件中加载数组"><span class="toc-text">从文件中加载数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其它关于数组的操作"><span class="toc-text">其它关于数组的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#数组内的导航"><span class="toc-text">数组内的导航</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#针对数组每一个元素调用处理函数"><span class="toc-text">针对数组每一个元素调用处理函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组元素的数量统计"><span class="toc-text">数组元素的数量统计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#把一个关联数组转换成普通的变量"><span class="toc-text">把一个关联数组转换成普通的变量</span></a></li></ol></li></ol>
  </div>



<div class="content content-post CENTER">
   <article id="post-php-study-notes-array" class="article article-type-post" itemprop="blogPost">
  <header class="article-header">
    <h1 class="post-title">PHP学习笔记——数组</h1>

    <div class="article-meta">
      <span>
        <i class="icon-calendar"></i>
        <span>2016.09.03</span>
      </span>

      
        <span class="article-author">
          <i class="icon-user"></i>
          <span>ewangplay</span>
        </span>
      

      
  <span class="article-category">
    <i class="icon-list"></i>
    <a class="article-category-link" href="/category/编程语言/">编程语言</a>
  </span>



      

      
      <i class="fa fa-eye"></i> 
        <span id="busuanzi_container_page_pv">
           &nbsp热度 <span id="busuanzi_value_page_pv">
           <i class="fa fa-spinner fa-spin"></i></span>℃
        </span>
      

      
      
    </div>
  </header>

  <div class="article-content">
    
      <p>PHP中的数组支持以数字为索引的常规数组和以字符串为索引的关联数组，在其它编程语言中，通常会提供两种数据类型——Array和Map（或者叫Hash)，分开来表示，而在PHP中相当于把这两种数据类型合并成了一个——统称为数组（Array）。</p>
<h2 id="常规数组"><a href="#常规数组" class="headerlink" title="常规数组"></a>常规数组</h2><h3 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h3><p>常规的创建一个数组的方法如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$products = array( ‘Tires’, ‘Oil’, ‘Spark Plugs’ );</div></pre></td></tr></table></figure>
<p>这就创建了一个有三个元素的数组$products。</p>
<p>如果你需要一个特殊的数组，它里面的元素是升序有规律递增的数字，那么可以使用<code>range()</code>自动创建这个数组，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$numbers = range(1, 10);</div></pre></td></tr></table></figure>
<p>这就产生了一个包含从1到10的10个元素的数组$numbers。如果你希望递增的步长不是默认的1，还可以通过可选的第三个参数来指定步长，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$odds = range(1, 10, 2);</div></pre></td></tr></table></figure>
<p>这样就产生了一个从1到10之间奇数的数组$odds。</p>
<p>而且<code>range()</code>函数也可以应用在字符的递增上。</p>
<h3 id="访问数组元素"><a href="#访问数组元素" class="headerlink" title="访问数组元素"></a>访问数组元素</h3><p>在PHP中使用数字索引访问一个数组的方式跟C语言中完全一样，都是使用类似于<code>$arrayvar[index_num]</code>这样的形式访问，而且索引以0为开始。</p>
<p>PHP作为一个动态语言，在使用上自然要比C语言这样的静态编译语言方便很多。对于PHP中的数组而言，你不需要在使用之前预先定义，用到时直接使用即可，如果该数组不存在，就会自动创建。比如下面的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$employees[0] = &quot;Tom&quot;;</div><div class="line">$employees[1] = &quot;Jerry&quot;;</div><div class="line">$employees[2] = &quot;Ray&quot;;</div></pre></td></tr></table></figure>
<p>在给数组的第一个元素赋值时，如果数组$employees不存在，就会自动创建，然后拥有第一个元素。</p>
<h3 id="遍历数组元素"><a href="#遍历数组元素" class="headerlink" title="遍历数组元素"></a>遍历数组元素</h3><p>对于数组来说，使用循环语句遍历数组元素非常方便。比如对于上面的数组$employees，我们要遍历它的元素列表并打印出来，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for ($i = 0; $i &lt; count($employees); $i++) </div><div class="line">&#123;</div><div class="line">    echo $employees[$i] . &quot; &quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>针对数组这种数据结构，PHP还专门提供了一个循环语句<code>foreach</code>，例子如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">foreach ($employees as $employee)</div><div class="line">&#123;</div><div class="line">    echo $employee . &quot; &quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="关联数组"><a href="#关联数组" class="headerlink" title="关联数组"></a>关联数组</h2><h3 id="创建数组-1"><a href="#创建数组-1" class="headerlink" title="创建数组"></a>创建数组</h3><p>使用下面的形式创建一个关联数组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$employees = array(&apos;Tom&apos; =&gt; 20, &apos;Jerry&apos; =&gt; 22, &apos;Ray&apos; =&gt; 25);</div></pre></td></tr></table></figure>
<p>在这个关联数组中，名字是Key，年龄是Value，通过名字可以直接找到他的年龄。</p>
<h3 id="访问数组元素-1"><a href="#访问数组元素-1" class="headerlink" title="访问数组元素"></a>访问数组元素</h3><p>对于关联数组，使用元素的Key作为索引就可以访问到元素的Value，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">echo $employees[&apos;Tom&apos;];</div><div class="line">$employees[&apos;Ray&apos;] = 26;</div></pre></td></tr></table></figure>
<p>同样，再首次使用关联数组时，如果不存在，就自动创建。</p>
<h3 id="遍历数组元素-1"><a href="#遍历数组元素-1" class="headerlink" title="遍历数组元素"></a>遍历数组元素</h3><p>遍历关联数组的元素，通常有下面三种方式：</p>
<h4 id="foreach"><a href="#foreach" class="headerlink" title="foreach"></a>foreach</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">foreach ($employees as $name =&gt; $age)</div><div class="line">&#123;</div><div class="line">    echo $name . &quot; - &quot; . $age . &quot;&lt;br /&gt;&quot;；</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="each"><a href="#each" class="headerlink" title="each"></a>each</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">while ($elem = each($employees))</div><div class="line">&#123;</div><div class="line">    echo $elem[&apos;key&apos;] . &quot; - &quot; . $elem[&apos;value&apos;] . &quot;&lt;br /&gt;&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="list"><a href="#list" class="headerlink" title="list"></a>list</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">reset($employees);  //如果前面的代码也对$employees使用过each操作，那么当前元素可能不是指向第一个，可以使用reset重置到第一个元素</div><div class="line">while (list($name, $age) = each($employees))</div><div class="line">&#123;</div><div class="line">    echo &quot;$name - $age&lt;br /&gt;&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h2><p>PHP中的多维数组的概念跟其它语言中没有本质的区别，访问方式也基本一致，我们只是看一下PHP中的多维数组时如何创建的就可以了。</p>
<p>下面是一个创建二维数组的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$products = array( array( &apos;TIR&apos;, &apos;Tires&apos;, 100 ), </div><div class="line">                   array( &apos;OIL&apos;, &apos;Oil&apos;, 10 ),</div><div class="line">                   array( &apos;SPK&apos;, &apos;Spark Plugs&apos;, 4 ));</div></pre></td></tr></table></figure>
<p>可见，我们定义了一个常规的一维数组，它的每一个元素又是一个常规的一维数组，这就构成了二维数组。遍历这样一个二维数组的代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">for ($row = 0; $row &lt; count($products); $row++) &#123;</div><div class="line">    for ($column = 0; $column &lt; count($products[$row]); $column++) &#123;</div><div class="line">        print &apos;|&apos;.$products[$row][$column]; </div><div class="line">    &#125;</div><div class="line">    print &quot;|\n&quot;; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>同样，数组的元素可以是关联数组，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$products = array( array( ‘Code’ =&gt; ‘TIR’, </div><div class="line">                          ‘Description’ =&gt; ‘Tires’,</div><div class="line">                          ‘Price’ =&gt; 100 ),</div><div class="line">                   array( ‘Code’ =&gt; ‘OIL’, </div><div class="line">                          ‘Description’ =&gt; ‘Oil’,</div><div class="line">                          ‘Price’ =&gt; 10 ),</div><div class="line">                   array( ‘Code’ =&gt; ‘SPK’,</div><div class="line">                          ‘Description’ =&gt; ‘Spark Plugs’,</div><div class="line">                          ‘Price’ =&gt;4 )</div><div class="line">                );</div></pre></td></tr></table></figure>
<p>遍历这样一个二维数组的代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">for ( $row = 0; $row &lt; count($products); $row++)&#123;</div><div class="line">    echo &apos;|&apos;.$products[$row][&apos;Code&apos;].&apos;|&apos;.$products[$row][&apos;Description&apos;].</div><div class="line">        &apos;|&apos;.$products[$row][&apos;Price&apos;].&quot;|\n&quot;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>一次类推，就可以知道如何创建三维数组、四维数组、…、等等更多维的数组了。</p>
<h2 id="数组排序"><a href="#数组排序" class="headerlink" title="数组排序"></a>数组排序</h2><h3 id="sort-rsort"><a href="#sort-rsort" class="headerlink" title="sort/rsort"></a><code>sort</code>/<code>rsort</code></h3><p>这一组排序函数针对一维的常规数组，其中<code>sort</code>函数对数组做升序操作，<code>rsort</code>函数对数组做降序操作。</p>
<h3 id="asort-arsort"><a href="#asort-arsort" class="headerlink" title="asort/arsort"></a><code>asort</code>/<code>arsort</code></h3><p>这一组排序函数针对一维的关联数组，其中<code>asort</code>函数根据关联数组中元素的Value进行升序操作，<code>arsort</code>函数根据关联数组中元素的Value进行降序操作。</p>
<h3 id="ksort-krsort"><a href="#ksort-krsort" class="headerlink" title="ksort/krsort"></a><code>ksort</code>/<code>krsort</code></h3><p>这一组排序函数针对一维的关联数组，其中<code>ksort</code>函数根据关联数组中元素的Key进行升序操作，<code>krsort</code>函数根据关联数组中元素的Key进行降序操作。</p>
<h3 id="usort-uasort-uksort"><a href="#usort-uasort-uksort" class="headerlink" title="usort/uasort/uksort"></a><code>usort</code>/<code>uasort</code>/<code>uksort</code></h3><p>对于简单的数组元素（数字或者字符串），PHP知道如何去比较它们的大小，但对于复杂的数组元素（元素又是数组或者对象的情况），PHP就不知道怎么去比较它们的大小了。这是就需要开发者自定义比较函数，然后使用<code>usort</code>函数来对多维数组进行操作了。</p>
<p>比如针对下面的二维数组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$products = array( array( &apos;TIR&apos;, &apos;Tires&apos;, 100 ), </div><div class="line">                   array( &apos;OIL&apos;, &apos;Oil&apos;, 10 ),</div><div class="line">                   array( &apos;SPK&apos;, &apos;Spark Plugs&apos;, 4 ));</div></pre></td></tr></table></figure>
<p>如果我们希望这个数组按照元素中的第二个字段（商品描述）进行升序排列，那么应该怎么做呢？</p>
<p>首先，我们需要定义一个自定义的比较函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function compare($x, $y) &#123;</div><div class="line">    if ($x[1] == $y[1]) &#123;</div><div class="line">        return 0;</div><div class="line">    &#125; else if ($x[1] &lt; $y[1]) &#123;</div><div class="line">        return -1;</div><div class="line">    &#125; else &#123;</div><div class="line">        return 1;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>然后就可以使用这个自定义的比较函数对上述数组进行升序操作了，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">usort($products, &apos;compare&apos;);</div></pre></td></tr></table></figure>
<p>如果你又希望这个数组按照元素中的第三个字段（商品价格）进行升序操作，那么只需要把比较函数修改成下面这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function compare($x, $y) &#123;</div><div class="line">    if ($x[2] == $y[2]) &#123;</div><div class="line">        return 0;</div><div class="line">    &#125; else if ($x[2] &lt; $y[2]) &#123;</div><div class="line">        return -1;</div><div class="line">    &#125; else &#123;</div><div class="line">        return 1;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>对于多维数组的降序操作，也是通过自定义的比较函数来完成的。例如上述二维数组希望按照商品价格进行降序操作，那么比较函数定义如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function compare($x, $y) &#123;</div><div class="line">    if ($x[2] == $y[2]) &#123;</div><div class="line">        return 0;</div><div class="line">    &#125; else if ($x[2] &lt; $y[2]) &#123;</div><div class="line">        return 1;</div><div class="line">    &#125; else &#123;</div><div class="line">        return -1;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>可见，是升序还是降序，都是通过根据比较后返回的数值来决定的：0表示$x和$y相等，负数表示$x小于$y，正数表示$x大于$y。</p>
<p>同理，<code>uasort</code>和<code>uksort</code>是针对多维数组中的关联数组进行自定义排序的函数，原理和使用方法跟<code>usort</code>类似，可自行测试，不再赘述。</p>
<h3 id="shuffle"><a href="#shuffle" class="headerlink" title="shuffle"></a><code>shuffle</code></h3><p>该函数对数组元素进行随机排序。</p>
<h3 id="array-reverse"><a href="#array-reverse" class="headerlink" title="array_reverse"></a><code>array_reverse</code></h3><p>该函数返回一个数组，包含的元素是输入数组的反序排列，源数组保持不变。</p>
<h2 id="从文件中加载数组"><a href="#从文件中加载数组" class="headerlink" title="从文件中加载数组"></a>从文件中加载数组</h2><p>如果文件中存储的是结构化的数据，比如订单数据（通常这种结构化的数据存储在关系型数据库中），那么直接把这类数据加载到数组中再进行处理就非常方便，我们可以使用<code>file</code>和<code>explode</code>这两个函数结合来做到处理文件中的结构化数据。</p>
<p><code>file</code>函数的原型: <code>array file ( string $filename [, int $flags = 0 [, resource $context ]] )</code><br><code>explode</code>函数的原型：<code>array explode ( string $delimiter , string $string [, int $limit = PHP_INT_MAX ] )</code></p>
<h2 id="其它关于数组的操作"><a href="#其它关于数组的操作" class="headerlink" title="其它关于数组的操作"></a>其它关于数组的操作</h2><h3 id="数组内的导航"><a href="#数组内的导航" class="headerlink" title="数组内的导航"></a>数组内的导航</h3><p>在PHP中，创建的数组维护了一个指针——指向当前的元素，类似于C语言中的链表。通过操作这个指针可以随意的遍历数组元素。</p>
<p>当创建了一个新的数组时，当前指针指向数组的第一个元素，使用<code>current()</code>函数可以返回当前指针指向的元素。</p>
<p>使用<code>next()</code>和<code>each()</code>函数可以让当前指针向前移动，它们的区别在于：<code>next()</code>先向前移动指针，然后返回指针指向的新元素；<code>each()</code>是先返回当前指针指向的元素，然后再向前移动指针。</p>
<p>当指针移动到数组的中间位置时，你可以使用<code>reset()</code>或者<code>end()</code>把当前指针重置到数组的开头（指向第一个元素）或结尾(指向最后一个元素)，同时会返回第一个元素或最后一个元素。</p>
<p>如果希望反向遍历一个数组，就可以先使用<code>end()</code>让当前指针指向最后一个元素，然后使用<code>prev()</code>函数来向前遍历。<code>prev()</code>函数跟<code>next()</code>函数相对应，它把当前指针向前移动，然后返回新的元素。</p>
<p>下面我们看一个反向遍历数组的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$array = array(1, 2, 3);</div><div class="line">$value = end($array);</div><div class="line">while ($value) &#123;</div><div class="line">    echo &quot;$value\n&quot;;</div><div class="line">    $value = prev($array);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="针对数组每一个元素调用处理函数"><a href="#针对数组每一个元素调用处理函数" class="headerlink" title="针对数组每一个元素调用处理函数"></a>针对数组每一个元素调用处理函数</h3><p>通常，我们会遍历一个数组，对每一个数组元素进行操作或修改。遍历一个数组有很多方法：<code>for</code>、<code>while</code>、<code>each()</code>等等，这里介绍一个更加简洁高效的方式: <code>array_walk()</code>，它的原型如下：</p>
<p><code>bool array_walk ( array &amp;$array , callable $callback [, mixed $userdata = NULL ] )</code></p>
<p><code>array_walk()</code>接受一个自定义函数，用来对数组的每一个元素进行处理操作。这个自定义函数的原型大概样子如下：</p>
<p><code>yourfunction(value, key, userdata)</code></p>
<p>第一个参数是数组元素的值，第二个参数是数组元素的Key，第三个参数是在<code>array_walk()</code>调用中指定的第三个参数：用户数据。</p>
<p>下面是一个例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">$fruits = array(&quot;d&quot; =&gt; &quot;lemon&quot;, &quot;a&quot; =&gt; &quot;orange&quot;, &quot;b&quot; =&gt; &quot;banana&quot;, &quot;c&quot; =&gt; &quot;apple&quot;);</div><div class="line"></div><div class="line">function test_alter(&amp;$item1, $key, $prefix)</div><div class="line">&#123;</div><div class="line">    $item1 = &quot;$prefix: $item1&quot;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">function test_print($item2, $key)</div><div class="line">&#123;</div><div class="line">    echo &quot;$key. $item2&lt;br /&gt;\n&quot;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">echo &quot;Before ...:\n&quot;;</div><div class="line">array_walk($fruits, &apos;test_print&apos;);</div><div class="line"></div><div class="line">array_walk($fruits, &apos;test_alter&apos;, &apos;fruit&apos;);</div><div class="line">echo &quot;... and after:\n&quot;;</div><div class="line"></div><div class="line">array_walk($fruits, &apos;test_print&apos;);</div><div class="line">?&gt;</div></pre></td></tr></table></figure>
<h3 id="数组元素的数量统计"><a href="#数组元素的数量统计" class="headerlink" title="数组元素的数量统计"></a>数组元素的数量统计</h3><p>php中，对于数组元素的数量统计，提供了三个函数：<code>count()</code>、<code>sizeof()</code>和<code>array_count_values()</code>。</p>
<p>其中<code>count()</code>和<code>sizeof()</code>的作用完全一样，都是返回数组中元素的数量。</p>
<p>而<code>array_count_values()</code>这个函数是对数组中的元素值进行次数统计，把一样元素的出现次数统计出来，然后返回一个关联数组。</p>
<p>我们看一个例子就明白了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">function myprint($value, $key) </div><div class="line">&#123;</div><div class="line">    echo &quot;$key: $value\n&quot;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">$array = array(4, 5, 1, 2, 3, 1, 2, 1);</div><div class="line">$ac = array_count_values($array);</div><div class="line">array_walk($ac, &apos;myprint&apos;);</div><div class="line">?&gt;</div></pre></td></tr></table></figure>
<p>运行的结果如下：</p>
<blockquote>
<p>4: 1<br>5: 1<br>1: 3<br>2: 2<br>3: 1</p>
</blockquote>
<h3 id="把一个关联数组转换成普通的变量"><a href="#把一个关联数组转换成普通的变量" class="headerlink" title="把一个关联数组转换成普通的变量"></a>把一个关联数组转换成普通的变量</h3><p>对于关联数组，我们可以使用<code>extract()</code>函数把每一个key/value元素转换成一个普通变量，变量名是数组元素的key，变量值是数组元素的Value。</p>
<p><code>extract()</code>的原型是：<code>int extract ( array &amp;$array [, int $flags = EXTR_OVERWRITE [, string $prefix = NULL ]] )</code></p>
<p>通过例子我们理解一下它的用法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">$size = &quot;large&quot;;</div><div class="line">$var_array = array(&quot;color&quot; =&gt; &quot;blue&quot;,</div><div class="line">                   &quot;size&quot;  =&gt; &quot;medium&quot;,</div><div class="line">                   &quot;shape&quot; =&gt; &quot;sphere&quot;);</div><div class="line">extract($var_array, EXTR_PREFIX_SAME, &quot;wddx&quot;);</div><div class="line"></div><div class="line">echo &quot;$color, $size, $shape, $wddx_size\n&quot;;</div><div class="line"></div><div class="line">?&gt;</div></pre></td></tr></table></figure>
<p>数组$var_array有三个key/value元素，所以通过<code>extract()</code>处理会生成三个普通变量：$color、$size、$shape，但是在前面已经定义了一个变量$size，所以会产生冲突，而<code>extract()</code>函数的第二个参数就是控制在发生冲突时如何处理的，这里使用了选项：<code>EXTR_PREFIX_SAME</code>——表示当出现冲突时通过数组产生的变量会添加前缀，前缀通过<code>extract()</code>的第三个参数指定。</p>

    
  </div>
</article>


   

   
  <div class="box-prev-next clearfix">
    <a class="show pull-left" href="/2016/09/12/programer-inn-interview/">
        <i class="icon icon-angle-left"></i>
    </a>
    <a class="show pull-right" href="/2016/09/02/english-writing-apply-driver-license/">
        <i class="icon icon-angle-right"></i>
    </a>
  </div>




</div>


  <a id="backTop" class="back-top">
    <i class="icon-angle-up"></i>
  </a>




  <div class="modal" id="modal">
  <span id="cover" class="cover hide"></span>
  <div id="modal-dialog" class="modal-dialog hide-dialog">
    <div class="modal-header">
      <span id="close" class="btn-close">关闭</span>
    </div>
    <hr>
    <div class="modal-body">
      <ul class="list-toolbox">
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/archives/"
              rel="noopener noreferrer"
              target="_self"
              >
              博客
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/category/"
              rel="noopener noreferrer"
              target="_self"
              >
              分类
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/tag/"
              rel="noopener noreferrer"
              target="_self"
              >
              标签
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/about/"
              rel="noopener noreferrer"
              target="_self"
              >
              关于
            </a>
          </li>
        
          <li class="item-toolbox">
            <a
              class="CIRCLE"
              href="/search/"
              rel="noopener noreferrer"
              target="_self"
              >
              搜索
            </a>
          </li>
        
      </ul>

    </div>
  </div>
</div>



  
      <div class="fexo-comments comments-post">
    

    




    

  </div>

  

  <script type="text/javascript">
  function loadScript(url, callback) {
    var script = document.createElement('script')
    script.type = 'text/javascript';

    if (script.readyState) { //IE
      script.onreadystatechange = function() {
        if (script.readyState == 'loaded' ||
          script.readyState == 'complete') {
          script.onreadystatechange = null;
          callback();
        }
      };
    } else { //Others
      script.onload = function() {
        callback();
      };
    }

    script.src = url;
    document.getElementsByTagName('head')[0].appendChild(script);
  }

  window.onload = function() {
    loadScript('/js/bundle.js?235683', function() {
      // load success
    });
  }
</script>

</body>
</html>
